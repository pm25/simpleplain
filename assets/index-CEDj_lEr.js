import{r as u,u as y,d as S,j as e,S as _,B as j}from"./index-Dy_XMDx0.js";import{i as T,j as k,k as P,c as C}from"./index-7BvLJzQX.js";import{S as g,a as v,b,c as N,d as m}from"./select-DS4hhHVC.js";import{C as F}from"./card-D5mT_g-T.js";import{A as d,S as z}from"./repos-D7ei01t3.js";import{u as D}from"./use-pagetitle-DoqSbaFY.js";import"./iconBase-ay_yXjnl.js";const w=Array.from(new Set(Object.values(d).flatMap(s=>s.topics??[]))).sort();function O(){const[s,n]=u.useState("updated"),[t,r]=u.useState("all");D("Projects");const[x]=y(),p=S(),l=x.get("topic");u.useEffect(()=>{l&&w.includes(l)?r(l):l||r("all")},[l]);const f=a=>{r(a);const c=new URLSearchParams(x);a==="all"?c.delete("topic"):c.set("topic",a),p({search:c.toString()},{replace:!0})},h=Object.keys(d).filter(a=>{const i=d[a].topics??[];return t==="all"||i.includes(t)}).sort((a,c)=>{const i=d[a],o=d[c];return s==="stars"?(o.stargazers_count??0)-(i.stargazers_count??0):s==="created"?new Date(o.created_at).getTime()-new Date(i.created_at).getTime():new Date(o.pushed_at).getTime()-new Date(i.pushed_at).getTime()});return e.jsx("div",{className:"flex flex-1 flex-col items-center gap-10",children:e.jsxs("div",{className:"w-full max-w-6xl space-y-10",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center gap-4 text-4xl font-semibold",children:[e.jsx(T,{}),"Projects"]}),e.jsxs("div",{className:"flex justify-between flex-wrap gap-2 items-center mx-2 sm:mx-6 my-1 relative -top-2",children:[e.jsx(A,{topicFilter:t,setTopicFilter:f}),e.jsx(B,{sortBy:s,setSortBy:n})]}),e.jsx(_,{}),e.jsx("div",{className:"grid grid-cols-1 w-full gap-4 px-2 sm:px-6",children:h.map(a=>e.jsx(G,{project_name:a,setTopicFilter:f},a))})]})})}function A({topicFilter:s,setTopicFilter:n}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Filter by topic:"}),e.jsxs(g,{value:s,onValueChange:n,children:[e.jsx(v,{className:"w-[180px] cursor-pointer",children:e.jsx(b,{placeholder:"Topic"})}),e.jsxs(N,{children:[e.jsx(m,{value:"all",children:"📂 All Topics"}),w.map(t=>e.jsx(m,{value:t,children:t},t))]})]}),s!=="all"&&e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>n("all"),className:"px-2 text-sm cursor-pointer text-muted-foreground",children:"Clear filter ✕"})]})}function B({sortBy:s,setSortBy:n}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Sort by:"}),e.jsxs(g,{value:s,onValueChange:n,children:[e.jsx(v,{className:"w-[160px] cursor-pointer",children:e.jsx(b,{placeholder:"Sort by"})}),e.jsxs(N,{children:[e.jsx(m,{value:"updated",children:"🕒 Last Updated"}),e.jsx(m,{value:"created",children:"📅 Created Time"}),e.jsx(m,{value:"stars",children:"⭐ Star Count"})]})]})]})}function G({project_name:s,setTopicFilter:n}){const t=d[s],{html_url:r,preview_image:x,display_name:p,name:l,description:f,topics:h=[],language:a,stargazers_count:c,homepage:i}=t;return e.jsx(F,{className:"rounded-lg overflow-hidden gap-0 py-0 w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsx("div",{className:"aspect-3/2 w-full max-h-72 lg:max-w-75 lg:h-50 overflow-hidden",children:x?e.jsx("img",{src:x,alt:l||"Project image",className:"w-full h-full object-cover",loading:"lazy"}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 w-full h-full bg-muted",children:[e.jsx("span",{className:"text-lg font-semibold opacity-80 text-center",children:l||"Unnamed Project"}),e.jsx("span",{className:"text-sm text-muted-foreground text-center",children:"Image not available"})]})})}),e.jsx("div",{className:"w-full border-t block lg:hidden"}),e.jsx("div",{className:"h-full border-l hidden lg:block"}),e.jsxs("div",{className:"flex flex-col p-4 lg:py-2.5 lg:px-5 flex-1 lg:h-50",children:[e.jsx(z,{className:"flex-1 min-h-0",children:e.jsxs("div",{className:"flex flex-col gap-y-2",children:[e.jsx("div",{className:"text-base font-semibold",children:r?e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository",className:"hover:underline underline-offset-4",children:p||l}):p||l}),e.jsx("p",{className:"text-sm text-muted-foreground",children:f||"Details unavailable"}),h.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:h.map(o=>e.jsx(j,{variant:"secondary",size:"sm",onClick:()=>n(o),className:"rounded-sm cursor-pointer font-normal px-2 h-7.5 text-sm",children:o},o))})]})}),e.jsxs("div",{className:"flex flex-row items-center justify-between text-muted-foreground pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("p",{children:["Language: ",a||"Unknown"]}),c!==null&&e.jsxs("a",{href:`${r}/stargazers`,target:"_blank",rel:"noopener noreferrer","aria-label":"Stargazers",className:"flex items-center gap-1 text-yellow-600 hover:text-yellow-500",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:c})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsx("a",{href:i,target:"_blank",rel:"noopener noreferrer","aria-label":"Project homepage",className:"hover:text-foreground",children:e.jsx(P,{className:"w-6 h-6"})}),r&&e.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository",className:"hover:text-foreground",children:e.jsx(C,{className:"w-6 h-6"})})]})]})]})]})})}export{O as default};
