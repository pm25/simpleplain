import{r as p,u as _,d as C,j as e,S as P,B as x,L as j}from"./index-Dy_XMDx0.js";import{m as k}from"./index-7BvLJzQX.js";import{S,a as w,b as y,c as b,d as g}from"./select-DS4hhHVC.js";import{C as A}from"./card-D5mT_g-T.js";import{u as F}from"./use-pagetitle-DoqSbaFY.js";import"./iconBase-ay_yXjnl.js";const L={path:"src/data/articles/template.md",title:"Your Post Title",created_at:"2025-05-20T14:30:00",updated_at:"2025-05-20T16:15:00",summary:"A one-sentence summary of the post for previews or meta description.",cover_image:"/images/cover.jpg",author:"Pin-Yen Huang",draft:!0,tags:["tag1","tag2"]},c={template:L,"deep-learning-with-keras":{path:"src/data/articles/deep-learning-with-keras.md",title:"Deep Learning with Keras",created_at:"2019-09-04",updated_at:"2025-05-20T21:00:00",summary:"A simple introduction to deep learning with practical examples using the Keras Python package.",cover_image:null,author:"Pin-Yen Huang",draft:!1,tags:["deep learning","keras"]}},N=Array.from(new Set(Object.values(c).flatMap(a=>a.tags??[]))).sort();function K(){const[a,r]=p.useState("updated"),[t,l]=p.useState("all");F("Articles");const[i]=_(),o=C(),d=i.get("tag"),m=i.get("sort");p.useEffect(()=>{d&&N.includes(d)?l(d):d||l("all")},[d]),p.useEffect(()=>{if(m==="created"||m==="updated")r(m);else{const s=new URLSearchParams(i);s.set("sort","updated"),o({search:s.toString()},{replace:!0}),r("updated")}},[m,o,i]);const f=s=>{l(s);const n=new URLSearchParams(i);s==="all"?n.delete("tag"):n.set("tag",s),o({search:n.toString()},{replace:!0})},T=s=>{r(s);const n=new URLSearchParams(i);n.set("sort",s),o({search:n.toString()},{replace:!0})},D=Object.keys(c).filter(s=>{const u=c[s].tags??[];return t==="all"||u.includes(t)}).sort((s,n)=>{const u=c[s],h=c[n];return a==="created"?new Date(h.created_at).getTime()-new Date(u.created_at).getTime():new Date(h.updated_at).getTime()-new Date(u.updated_at).getTime()});return e.jsx("div",{className:"flex flex-1 flex-col items-center gap-10",children:e.jsxs("div",{className:"w-full max-w-6xl space-y-10",children:[e.jsxs("div",{className:"flex flex-row justify-center items-center gap-4 text-4xl font-semibold",children:[e.jsx(k,{}),"Articles"]}),e.jsxs("div",{className:"flex justify-between flex-wrap gap-2 items-center mx-2 sm:mx-6 my-1 relative -top-2",children:[e.jsx(R,{tagFilter:t,setTagFilter:f}),e.jsx(B,{sortBy:a,setSortBy:T})]}),e.jsx(P,{}),e.jsx("div",{className:"grid grid-cols-1 w-full gap-4 px-2 sm:px-6",children:D.map(s=>e.jsx(U,{articleName:s,setTagFilter:f},s))})]})})}function R({tagFilter:a,setTagFilter:r}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Filter by tag:"}),e.jsxs(S,{value:a,onValueChange:r,children:[e.jsx(w,{className:"w-[180px] cursor-pointer",children:e.jsx(y,{placeholder:"Tag"})}),e.jsxs(b,{children:[e.jsx(g,{value:"all",children:"🏷️ All Tags"}),N.map(t=>e.jsx(g,{value:t,children:t},t))]})]}),a!=="all"&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>r("all"),className:"px-2 text-sm cursor-pointer text-muted-foreground",children:"Clear filter ✕"})]})}function B({sortBy:a,setSortBy:r}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{children:"Sort by:"}),e.jsxs(S,{value:a,onValueChange:r,children:[e.jsx(w,{className:"w-[160px] cursor-pointer",children:e.jsx(y,{placeholder:"Sort by"})}),e.jsxs(b,{children:[e.jsx(g,{value:"updated",children:"🕒 Last Updated"}),e.jsx(g,{value:"created",children:"📅 Created Time"})]})]})]})}function U({articleName:a,setTagFilter:r}){const t=c[a];return e.jsx(A,{className:"rounded-lg overflow-hidden py-4 px-4 sm:px-8",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(x,{asChild:!0,variant:"link",className:"p-0 h-7 text-base font-semibold text-left justify-start",children:e.jsx(j,{to:`/articles/${a}`,"aria-label":`Read full article: ${t.title}`,children:t.title})}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3",children:t.summary||"No summary available."}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.tags.map(l=>e.jsx(x,{variant:"secondary",size:"sm",onClick:()=>r(l),className:"rounded-sm cursor-pointer font-normal px-2 h-7.5 text-sm",children:l},l))}),e.jsxs("div",{className:"flex justify-between items-center text-sm text-muted-foreground mt-auto pt-2",children:[e.jsxs("span",{children:["Published ",v(t.created_at),!Y(t.created_at,t.updated_at)&&e.jsxs(e.Fragment,{children:[" • Updated ",v(t.updated_at)]})]}),e.jsx(x,{asChild:!0,variant:"link",className:"p-0 text-primary underline text-sm h-7.5",children:e.jsx(j,{to:`/articles/${a}`,"aria-label":`Read full article: ${t.title}`,children:"Read More →"})})]})]})})}function v(a){return new Date(a).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function Y(a,r){const t=new Date(a),l=new Date(r);return t.getFullYear()===l.getFullYear()&&t.getMonth()===l.getMonth()&&t.getDate()===l.getDate()}export{K as default};
